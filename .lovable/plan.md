

## שלב 1: מה נעשה וסקירת הפעולות שלא בוצעו

### ✅ **מה בוצע בשלב 1**

#### 1. **ציר זמן רישוי (Licensing Timeline)**
- ✅ קומפוננטה `LicensingTimeline` מוצגת תמיד בראש העמוד
- ✅ תצוגת "כלל הפרויקטים" - מציגה כמה פרויקטים בכל שלב עם ספירה בעיגול
- ✅ תצוגת "פר פרויקט" - משהו יכול לראות את ההתקדמות של הפרויקט שלו (סימון בוצע/נוכחי/עתידי)
- ✅ RTL מלא, גלילה אופקית במובייל

#### 2. **סינון ותצוגות**
- ✅ סינון "כלל הפרויקטים" / "פרויקט מסוים" עם Select dropdown
- ✅ נוטיפיקיישן של משימות פתוחות ליד הסינון

#### 3. **טבלת משימות מרכזית**
- ✅ `AllProjectsTaskTable` - טבלה רוחבית של כל המשימות מכל הפרויקטים
- ✅ עמודות: שם משימה, פרויקט, שלב, יועץ אחראי, סטטוס, תאריך יעד, התקדמות
- ✅ מיון לפי כל עמודה
- ✅ סימון "קריטי לתשלום" (orange badge)

#### 4. **תצוגת פר-פרויקט**
- ✅ `ProjectTaskView` - שתי אפשרויות תצוגה:
  - כרטיסיות: משימות מקובצות לפי שלב רישוי
  - טבלה: כל המשימות בטבלה אחת

#### 5. **Dashboard Integration**
- ✅ "ניהול משימות" כלשונית חדשה (ברירת מחדל)
- ✅ "הפרויקטים שלי" כלשונית שנייה (התוכן הקיים)

#### 6. **TaskDetailDialog**
- ✅ עריכת משימות עם שדות: שם, תיאור, תאריכים (מתוכנן + בפועל), יועץ, סטטוס, התקדמות, אבן דרך, הערות

---

### ❌ **מה לא בוצע (לא בשלב 1)**

#### **3.1 - הגדרת משימה (Task Definition)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| כותרת (Title) | ✅ | נתמך ב-TaskDetailDialog |
| תיאור (Description) | ✅ | נתמך ב-TaskDetailDialog |
| עובד אחראי + תחום | ✅ חלקי | רק יועץ (לא תחום בתוך משרד היועץ) |
| תאריך יעד ובפועל | ✅ | נתמך ב-TaskDetailDialog |
| אבן דרך לתשלום | ✅ חלקי | `payment_milestone_id` בתאריכון אבל לא בDashboard |
| **מסמכים מצורפים (File Attachments)** | ❌ | **לא בוצע** - אין UI לצירוף קבצים |
| **שיחה/עדכונים פנימיים (Comments/Updates)** | ❌ | **לא בוצע** - אין תיקיית comments או notes שנראה לאחרים |
| **שיוך אוטומטי למיילים** | ❌ | **לא בוצע** - אין מנגנון זה |

#### **3.2 - תבניות משימות (Task Templates)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| ניהול תבניות (Admin) | ❌ | אין UI של Admin לניהול תבניות משימות |
| קישור אוטומטי ליועצים | ❌ | לא ממומש |
| התאמה אישית (Personalization) | ❌ | לא שמור |

#### **3.3 - בקרת עריכה ומחיקה (Editing & Deletion Control)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| יזם = בקרה מלאה | ✅ | TaskDetailDialog מתן עריכה |
| יועץ = עריכה עם אישור יזם | ❌ | **לא בוצע** - אין "mode עריכה על אישור" |
| התראה למחיקה משימה קריטית | ❌ | **לא בוצע** - אין alert |
| לוג שינויים | ❌ | **לא נדרש לפי ההגדרה** |

#### **3.4 - תלות בין משימות (Task Dependency)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| הגדרת תלויות | ✅ | UI לבחירת תלויות ב-TaskDetailDialog עם TaskDependencySelector |
| חסימת סימון "בוצע" אם תלות לא הושלמה | ✅ | חסימה ב-TaskDetailDialog + useProjectTasks עם AlertDialog |
| התראה על תלויות שלא הושלמו | ✅ | הצגת התראה אדומה עם רשימת המשימות החוסמות |

#### **4.5 - תצוגת היועץ (Advisor View)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| לשונית משימות ליועץ | ❌ | **לא בוצע** - יש `AdvisorDashboard` אבל אין Task Management tab |
| כלל הפרויקטים שלו | ❌ | |
| פר פרויקט עם ציר זמן | ❌ | |

#### **5.1 - הרשאות בתוך משרד היועץ (Permissions within Advisory Firm)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| בעל משרד (מנהל) - רואה הכל | ❌ | **לא בוצע** - אין הבחנה בתוך משרד יועץ |
| עובד במשרד - רק משימות שלו | ❌ | |
| יועץ עצמאי - כל המשימות שלו | ❌ | |

#### **5.2 - ניהול אנשי קשר ושיוך יועצים (Contact & Advisor Assignment)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| שמירת אנשי קשר | ❌ | **לא בוצע** |
| רישום תחום אחריות → אוטומטית לצרף יועצים | ❌ | **לא בוצע** - אין select של תחום |
| CC - לכתב יועצים נוספים | ❌ | **לא בוצע** |

#### **6.1 - שיוך אבן דרך וחישוב צפי תשלומים**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| שיוך אוטומטי לאבן דרך | ❌ | **לא בוצע** - אבל `payment_milestone_id` קיים בDB |
| משפיע על תזרים | ❌ | |
| תצוגת תזרים גרפית | ❌ | **דבר שלבים הבאים** |

#### **6.2 - הגשת חשבונות (Invoice Submission)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| התראה על הגשה | ❌ | **לא בוצע** |
| גמישות (כמה אבני דרך בחשבון אחד) | ❌ | |
| חסימת הגשה עם התראה | ❌ | |

#### **6.3 - התראות (Notifications)**
| דרישה | סטטוס | הערה |
|-------|-------|------|
| נוטיפיקיישן ליד שם פרויקט | ✅ חלקי | יש `openTasksCount` ב-Dashboard אבל לא ליד פרויקט בטבלה |
| נוטיפיקיישן ליד "כלל הפרויקטים" | ✅ | Badge עם מספר משימות פתוחות |
| שינוי תאריך קריטי | ❌ | **לא נדרש לפי דרישה** |

---

### 📊 **סיכום - שלב 1 כיסה:**

**כ-25% מהדרישות הכוללות:**
1. ✅ ציר זמן חזותי
2. ✅ טבלת משימות מרכזית עם סינון וטבלה/כרטיסיות
3. ✅ סטטוסים בסיסיים ותאריכים
4. ✅ RTL + Dashboard integration

**שלבים הבאים יכללו:**
1. תלויות בין משימות (Task Dependencies)
2. מסמכים מצורפים ותיקיית comments
3. תבניות משימות ובקרת הרשאות
4. תצוגת יועץ
5. הרשאות בתוך משרד יועץ
6. הגשת חשבונות וחישוב תזרים

